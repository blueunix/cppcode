<!-- Warning: Do NOT edit this file. -->
<!-- It was created automatically by man2html.awk Version 2.04 [27-Apr-2001] on Sat Aug 25 16:12:30 MDT 2001 -->
<!-- from the file /u/sy/beebe/src/htmlpty/htmlpty-1.01/htmlpty.man at suncore.math.utah.edu -->
<!-- This is sectional file 6 of 14 files that accompany the root file. -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<HTML>
<HEAD>
<TITLE>
 HTML-PRETTY 1 &#34;04 December 1997&#34; &#34;Version 1.00&#34; [section 6 of 14]
</TITLE>
<LINK REV="made" HREF="mailto:beebe@suncore.math.utah.edu">
</HEAD>

<BODY>

<H1>
 HTML-PRETTY 1 &#34;04 December 1997&#34; &#34;Version 1.00&#34; [section 6 of 14]
</H1>

<P></P>
<CENTER>
<P>
    <A HREF="htmlpty-03.html"><STRONG>.-3[DESCRIPTION]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-04.html"><STRONG>.-2[OPTIONS]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-05.html"><STRONG>.-1[FORMATTING CONVENTIONS]</STRONG></A>
    <BR>
    <A HREF="htmlpty.html"><STRONG>Top</STRONG></A>
    <BR>
    <A HREF="htmlpty-07.html"><STRONG>.+1[CATALOG DIRECTORY]</STRONG></A>
    &#160;&#160;&#160;
    <A HREF="htmlpty-08.html"><STRONG>.+2[COMMENTS IN HTML AND SGML]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-09.html"><STRONG>.+3[HTML GRAMMAR CONSTRAINTS]</STRONG></A>
</P>
</CENTER>

<HR>
<H1>
<A NAME="HDR.6">
STYLE FILES
</A>
</H1>
In order to allow the user to control the formatting of particular
HTML tags,
<STRONG>html-pretty</STRONG>
supports a powerful style file mechanism.  At startup, it processes a
style file in the directory where the executable program was found, a
second style file in the user's home directory, and a third style file
in the current directory.  None of these need exist.  Next, during
command-line argument processing, additional style files can be
provided with the
<STRONG>-stylefile</STRONG>
option.  These style files support system-specific, user-specific,
directory-specific, and job- or file-specific prettyprinting control.
<P>
The default name of the first three style files is system dependent:
<EM>.html-prettyrc</EM>
(UNIX),
<EM>htmlpty.ini</EM>
(IBM PC DOS), and
<EM>html-pretty.ini</EM>
(DEC VMS and OpenVMS).  The exact names depend on the name of the
executable program, which is used to construct the style file names.
If you renamed it to
<EM>sgmlpretty.exe</EM>,
the names would be
<EM>.sgmlprettyrc</EM>
on UNIX, and
<EM>sgmlpretty.ini</EM>
on other systems.
<P>
More precisely, the program name passed to the prettyprinter as its
zeroth argument is filtered by discarding any trailing version number
and extension, then keeping the last consecutive string of characters
that are letters, digits, hyphens, or underscores.  If the zeroth
argument is empty, implying that the program name is unknown, then the
name
<EM>htmlpty</EM>
is used; it is short enough to be acceptable to any reasonable file
system.
<P>
Automatic association of the style file names with the program name
makes it easy to support multiple versions, e.g.,
<STRONG>html-pretty-2-0</STRONG>,
<STRONG>html-pretty-3-0</STRONG>,
<STRONG>html-pretty-3-2</STRONG>,
and
<STRONG>html-pretty-4-0</STRONG>
could select different HTML grammar versions, and on UNIX,
and a few other operating systems, those programs could all
be links to the same physical file, avoiding wasteful
duplication of disk space.
<P>
In the current implementation of
<STRONG>html-pretty</STRONG>,
all of the standard HTML tags defined in HTML grammar levels up to the
proposed 4.0, plus a few browser vendor extensions, are hard-coded into
the program as members of over twenty formatting-style classes, so
that no external style files need exist for the program to run.
However, the
<STRONG>-extend-style</STRONG>,
<STRONG>-grammar-level</STRONG>,
and
<STRONG>-stylefile</STRONG>
options allow the built-in rules to be completely replaced, if desired.
<P>
The
<STRONG>-print-stylefile</STRONG>
command displays the built-in style rules as a set of style class
names, each followed by a colon and a list of HTML tags in that style
class.  Its output may be used without further modification as a style
file, and looks something like this:
<P>
<BLOCKQUOTE>
<PRE>
<TT>%% html-pretty version 1.00 date [29-Nov-1997]
%% User-modifiable style file generated on Wed Dec  3 08:34:39 1997

%% Uncomment the next line to clear all existing rules,
%% or leave it as a comment to preserve them:
% default :

body :                    BODY

doctype :                 !DOCTYPE

font :                    ACRONYM B BIG BLINK BT CODE \
                          DFN EM I KBD Q REV S SAMP \
                          SMALL STRIKE STRONG T TT U \
                          VAR

head :                    HEAD

html :                    HTML

inline :

line-break :              BR

link :                    LINK

list :                    DIR DL MENU OL UL

list-header :             LH

list-item :               DD DT LI

markup-declaration :      !ATTLIST !ELEMENT !ENTITY \
                          !NOTATION !SGML !SHORTREF \
                          !USEMAP

math :                    ATOP CHOOSE LEFT OF OVER \
                          RIGHT TAB

math-pair :               ABOVE BAR BELOW BOX DDOT \
                          DOT HAT ROOT ROW SQRT SUB \
                          SUP TILDE VEC

pair :                    A ABBREV ABSTRACT ADDED \
                          ADDRESS APPLET ARG AROW \
                          ARRAY AU BDO BLOCKQUOTE BQ \
                          BUTTON CAPTION CENTER CITE \
                          CMD COLGROUP CREDIT DEL DIV \
                          DIV1 DIV2 DIV3 DIV4 DIV5 \
                          DIV6 FIELDSET FIG FN FONT \
                          FOOTNOTE FORM FRAMESET HIDE \
                          IFRAME INS LABEL LANG MAP \
                          MARGIN MATH MESSAGE \
                          NOFRAMES NOSCRIPT NOTE \
                          OBJECT OPTION PERSON QUOTE \
                          REMOVED SELECT SPAN TABLE \
                          TBODY TD TEXTAREA TFOOT TH \
                          THEAD TR

paragraph :               P

plaintext :               PLAINTEXT

public :                  &#34;-//IETF//DTD HTML//EN&#34;

section :                 H1 H2 H3 H4 H5 H6

short :                   ITEM

standalone :              CHANGED HR IMG INPUT RENDER \
                          STYLES WBR

standalone-nocheck :      AREA BASE BASEFONT COL \
                          FRAME ISINDEX META NEXTID \
                          OVERLAY PARAM

title :                   TITLE

verbatim :                LISTING NOBR PRE XMP

verbatim-nocheck :        SCRIPT STYLE</TT>
</PRE>
</BLOCKQUOTE>
<P>
There will be additional data at the end of this output, in the form
of the tag relationships discussed below, but we omit it here because
of its length.
<P>
Notice that long lines can be continued on multiple physical lines,
for improved readability, by terminating them with a backslash
immediately before the newline.  The output line width in this file is
governed by the
<STRONG>-width</STRONG>
option.
<P>
As with the command-line
<STRONG>-extend-style</STRONG>
option, you can replace the colon with an equal sign, and the spaces
between tags with commas, if you prefer.
<P>
In addition to the style classes listed above, the special style class
<EM>default</EM>
can be used to force an HTML tag to revert to the default rule for
unknown tags: just treat it as ordinary text, although if the
<STRONG>-unknown-tag-warning</STRONG>
option was specified, a warning will be issued for this now unknown
tag.  You can use this to override earlier style file settings, and
most of the built-in ones.
<P>
The special style class
<EM>public</EM>
is associated with the SGML DOCTYPE identifier string, rather than
with a list of HTML tags.  That string determines which grammar file
is to be used for the document, and the value above corresponds to the
most generic grammar level (2.0) recognized by almost all browsers,
even though the style file includes tags from higher grammar levels.
The
<EM>public</EM>
style class is the only class whose value is a quoted string.
<P>
If the tag list to the right of the colon (or equals sign) is empty,
then all existing tags for that class are forgotten.  If an empty tag
list is used with the
<EM>default</EM>
style class, then all tags for all classes are forgotten.  These two
uses allow you to eliminate all built-in rules, or just certain style
classes, so that your style file can start from a known rule base.
<P>
Style class names are
<EM>case sensitive</EM>,
and all of the ones recognized by
<STRONG>html-pretty</STRONG>
must be spelled with lowercase letters.
<P>
The style file is expected to contain lines of the forms:
<BLOCKQUOTE>
<P>
<PRE>
<TT>style-class : TAG1 TAG2 ...

TAG : TAG1 TAG2 ...

relationship[TAG] : TAG1 TAG2 ...

-option
-option -option ...
-option value
-option value -option value  ...</TT>
</PRE>
</BLOCKQUOTE>
<P>
In the second form, the style class of the first tag is looked up
and assigned to the remaining tags.  That first tag
<EM>must</EM>
be entirely UPPERCASE in order to distinguish it from a style class.
The remaining tag names can be in either lettercase, or in mixed case;
they will be converted to uppercase internally.
<P>
The third form specifies a relationship between a tag, and one or more
other tags.  The two currently-recognized relationships are
<TT>ContainedIn</TT> and <TT>CannotContain</TT>; any others that are
specified will simply be ignored, although they will take up memory
space.  For example, the lines
<BLOCKQUOTE>
<P>
<PRE>
<TT>CannotContain[TITLE]      : LINK META SCRIPT STYLE
ContainedIn[LH]           : DL OL UL</TT>
</PRE>
</BLOCKQUOTE>
<P>
mean that a
<EM>TITLE</EM>
environment cannot contain
<EM>LINK</EM>,
<EM>META</EM>,
<EM>SCRIPT</EM>,
or
<EM>STYLE</EM>
tags, and that an
<EM>LH</EM>
tag can only be contained in a
<EM>DL</EM>,
<EM>OL</EM>,
or
<EM>UL</EM>
environment.   Unlike style class definitions, relationships
are
<EM>not</EM>
cumulative; only the last one of each relationship type encountered
for a particular tag will be used.
<P>
Because of the complexity of SGML grammars, tag relationships cannot
be reliably determined manually.  Instead, relationship tables are
derived from the grammar files by software developed especially for,
and included with, the
<STRONG>html-pretty</STRONG>
distribution, and then inserted into the standard style files.  Thus,
it is not anticipated that users will provide tag relationship data in
their personal style files, although they are free to do so.
<P>
The built-in relationship tables are derived from a merger of the
major grammar levels, so that they match tags in the built-in style
classes, which are also derived from that merger.
<P>
Tag relationships are only checked when the
<STRONG>-check-tag-nesting</STRONG>
option is specified, and since that is not a default option, omitting
tag relationships will normally not have a visible effect on the
output of
<STRONG>html-pretty</STRONG>.
<P>
In the remaining forms, command-line options appear, and any of the
documented options may be used this way.  You can use this facility to
collect preferred option settings in one place, such as in directory-
or user-specific initialization files.  Observe that a
<STRONG>-stylefile</STRONG>
option here can be used to chain temporarily to another file, and this
can go on recursively to a depth which is limited only by the run-time
stack depth and the maximum number of simultaneously open files.
<P>
Blank lines, leading and trailing whitespace, and text from a percent
(%) comment character to end of line, are ignored.  To get a literal
percent or quotation mark into a value, prefix it with a backslash;
the backslash will be removed when the value is collected.
<P>
Whitespace separates items, and can be omitted around the colon.
There is no significance to the order of items on a line, or lines in
the file, except that later settings can override earlier ones.  The
same style class name may occur on multiple lines, and the tag lists
will be accumulated, discarding duplicates.
<P>
The line length limit in style files is system-dependent, but
guaranteed to be at least 2048 characters.
<P>
Here is an example of a small style file to add the new tags
introduced in the HTML proposed 4.0 grammar (even though they are
actually already present in the built-in rules):
<P>
<BLOCKQUOTE>
<PRE>
<TT>% HTML proposed 4.0 additions
font : Acronym s

pair : BdO Button col colgroup Fieldset FrameSet IFrame \
       laBel NoFrames NoScript Object span TBody TFoot thEAD

public : &#34;-//W3C//DTD HTML 4.0 Transitional//EN&#34;</TT>
</PRE>
</BLOCKQUOTE>
<P>
The last style class attached to command or environment name is
the one that is used, so specifications in command-line
<STRONG>-extend-style</STRONG>,
<STRONG>-grammar-level</STRONG>,
or
<STRONG>-stylefile</STRONG>
options can override those in the current directory style file, those
in turn override settings from the home directory style file, and
those override system-wide style file settings.
<!-- ===================================================================== -->
<HR>

<P></P>
<CENTER>
<P>
    <A HREF="htmlpty-03.html"><STRONG>.-3[DESCRIPTION]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-04.html"><STRONG>.-2[OPTIONS]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-05.html"><STRONG>.-1[FORMATTING CONVENTIONS]</STRONG></A>
    <BR>
    <A HREF="htmlpty.html"><STRONG>Top</STRONG></A>
    <BR>
    <A HREF="htmlpty-07.html"><STRONG>.+1[CATALOG DIRECTORY]</STRONG></A>
    &#160;&#160;&#160;
    <A HREF="htmlpty-08.html"><STRONG>.+2[COMMENTS IN HTML AND SGML]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-09.html"><STRONG>.+3[HTML GRAMMAR CONSTRAINTS]</STRONG></A>
</P>
</CENTER>

<HR>
</BODY>
</HTML>
