<!-- Warning: Do NOT edit this file. -->
<!-- It was created automatically by man2html.awk Version 2.04 [27-Apr-2001] on Sat Aug 25 16:12:30 MDT 2001 -->
<!-- from the file /u/sy/beebe/src/htmlpty/htmlpty-1.01/htmlpty.man at suncore.math.utah.edu -->
<!-- This is sectional file 8 of 14 files that accompany the root file. -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<HTML>
<HEAD>
<TITLE>
 HTML-PRETTY 1 &#34;04 December 1997&#34; &#34;Version 1.00&#34; [section 8 of 14]
</TITLE>
<LINK REV="made" HREF="mailto:beebe@suncore.math.utah.edu">
</HEAD>

<BODY>

<H1>
 HTML-PRETTY 1 &#34;04 December 1997&#34; &#34;Version 1.00&#34; [section 8 of 14]
</H1>

<P></P>
<CENTER>
<P>
    <A HREF="htmlpty-05.html"><STRONG>.-3[FORMATTING CONVENTIONS]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-06.html"><STRONG>.-2[STYLE FILES]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-07.html"><STRONG>.-1[CATALOG DIRECTORY]</STRONG></A>
    <BR>
    <A HREF="htmlpty.html"><STRONG>Top</STRONG></A>
    <BR>
    <A HREF="htmlpty-09.html"><STRONG>.+1[HTML GRAMMAR CONSTRAINTS]</STRONG></A>
    &#160;&#160;&#160;
    <A HREF="htmlpty-10.html"><STRONG>.+2[PRETTYPRINTER LIMITATIONS]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-11.html"><STRONG>.+3[PRETTYPRINTER IMPLEMENTATION LIMITS]</STRONG></A>
</P>
</CENTER>

<HR>
<H1>
<A NAME="HDR.8">
COMMENTS IN HTML AND SGML
</A>
</H1>
The SGML (and thus, HTML) comment syntax confuses many users,
including browser programmers, and book writers, who either get it
wrong, or fail to explain it properly.
<P>
SGML has a command called
<EM>markup declaration open</EM>,
or
<EM>mdo</EM>
for short, which defaults to the two-character sequence
<EM>&lt;!</EM>,
and is matched by a
<EM>markup declaration close</EM>,
or
<EM>mdc</EM>,
which defaults to the one-character sequence
<EM>&gt;</EM>.
The
<EM>mdo</EM>
must be immediately followed either by a keyword, such as
<EM>ATTLIST</EM>,
<EM>DOCTYPE</EM>,
<EM>ELEMENT</EM>,
<EM>ENTITY</EM>,
<EM>NOTATION</EM>,
<EM>SGML</EM>,
<EM>SHORTREF</EM>,
or
<EM>USEMAP</EM>,
or else by a comment start, which is the two-character sequence
<EM>--</EM>.
In the latter case, there must later be a second
<EM>--</EM>
pair to signal a comment end.  Anything after that second pair is
non-comment text to be parsed.  However, additional comments can appear,
provided that they are surrounded by
<EM>--</EM>
pairs. Eventually, the markup declaration is ended by an
<EM>mdc</EM>
command, although whitespace may follow the last comment.
Thus,
<P>
<BLOCKQUOTE>
<PRE>
<TT>&lt;!--one-- --two-- --three--&gt;</TT>
<TT>&lt;!-- one -- -- two -- -- three -- &gt;</TT>
<TT>&lt;!-- one --
  -- two --
  -- three --
&gt;</TT>
</PRE>
</BLOCKQUOTE>
<P>
are all legal markup declarations, each of which consists of
three comments. However, these are in error:
<P>
<BLOCKQUOTE>
<PRE>
<TT>&lt;! --one-- --two-- --three-- &gt;</TT>
<TT>&lt;!-- one -- two -- three -- &gt;</TT>
<TT>&lt;!--
         one --
      -- two --
      - - three - -
&gt;</TT>
</PRE>
</BLOCKQUOTE>
<P>
The first has an illegal space after the
<EM>mdo</EM>,
the second has the word <TT>two</TT> outside a comment, and the
third has the text <TT>- - three - -</TT> outside the comment.
<P>
Given these rules, can SGML comments be nested?  It might appear that
they can, since
<P>
<BLOCKQUOTE>
<PRE>
<TT>&lt;!-- &lt;!-- --&gt; --&gt;</TT>
<TT>&lt;!-- &lt;!-- --&gt; &lt;!-- --&gt; --&gt;</TT>
</PRE>
</BLOCKQUOTE>
<P>
are both accepted by an SGML parser.  However, the nesting is
illusory, since the first has two comments, containing the
text <TT>&lt;!</TT> and <TT>&gt;</TT>, and the third has three comments:
<TT>&lt;!</TT> and <TT>&gt; &lt;!</TT> and <TT>&gt;</TT>.  As soon as we put words
between the hyphen pairs, such as
<P>
<BLOCKQUOTE>
<PRE>
<TT>&lt;!-- one &lt;!-- two --&gt; three --&gt;</TT>
<TT>&lt;!-- one &lt;!-- two --&gt; &lt;!-- three --&gt; four --&gt;</TT>
</PRE>
</BLOCKQUOTE>
<P>
the word <TT>two</TT> lies outside the comment in the first, and
<TT>two</TT> and <TT>three</TT> are outside the comment in the second.
Therefore, SGML and HTML comments cannot in general be nested.
<P>
Finally, because of the special significance of
<EM>--</EM>
as both a comment start and a comment end inside a markup declaration,
you must be careful about using adjacent hyphens in the comment text.
In particular, if you use a line of hyphens to set off one block of
text from another, the number of hyphens must be a multiple of 4, such
as this 60-hyphen example:
<P>
<BLOCKQUOTE>
<PRE>
<TT>&lt;!------------------------------------------------------------&gt;</TT>
</PRE>
</BLOCKQUOTE>
<P>
Having 57, 58, 59, 61, 62, or 63 hyphens won't do!
<P>
<STRONG>html-pretty</STRONG>
does not distinguish
<EM>markup declarations</EM>,
beginning with
<EM>&lt;!</EM>,
from
<EM>tags</EM>,
beginning with
<EM>&lt;</EM>,
except for comments, which have to be parsed separately anyway to
handle the pairs-of-pairs-of-hyphens balance requirement.  Thus, it
considers
<EM>!DOCTYPE</EM>
to be a tag name, when strictly speaking, the
<EM>!</EM>
is part of the
<EM>markup declaration open</EM>.
However, since the closing character
<EM>&gt;</EM>
can always be represented by an SGML entity,
<EM>&amp;lt;</EM>,
<STRONG>html-pretty</STRONG>
can safely assume that anything between angle brackets is a `tag'.
That is why the style files have a rule
<P>
<BLOCKQUOTE>
<PRE>
<TT>doctype :            !DOCTYPE</TT>
</PRE>
</BLOCKQUOTE>
<P>
with the exclamation mark prefixed to the word <TT>DOCTYPE</TT>.
<!-- ===================================================================== -->
<HR>

<P></P>
<CENTER>
<P>
    <A HREF="htmlpty-05.html"><STRONG>.-3[FORMATTING CONVENTIONS]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-06.html"><STRONG>.-2[STYLE FILES]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-07.html"><STRONG>.-1[CATALOG DIRECTORY]</STRONG></A>
    <BR>
    <A HREF="htmlpty.html"><STRONG>Top</STRONG></A>
    <BR>
    <A HREF="htmlpty-09.html"><STRONG>.+1[HTML GRAMMAR CONSTRAINTS]</STRONG></A>
    &#160;&#160;&#160;
    <A HREF="htmlpty-10.html"><STRONG>.+2[PRETTYPRINTER LIMITATIONS]</STRONG></A>
    &#160;&#160;&#160;
    &#160;&#160;&#160;
    <A HREF="htmlpty-11.html"><STRONG>.+3[PRETTYPRINTER IMPLEMENTATION LIMITS]</STRONG></A>
</P>
</CENTER>

<HR>
</BODY>
</HTML>
